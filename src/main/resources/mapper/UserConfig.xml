<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd"
>

<mapper namespace="com.WAREHOUSE.dao.UserConfigDAO">

  <!-- UserConfig.showUserConfigTab -->
  <select
  	id="showUserConfigTab"
  	parameterType="hashmap"
  	resultType="UserConfig"
  >
  	SELECT
      config
    FROM
      tblUserConfig
	  WHERE
      userID = #{userConfigID} AND pageNm = #{pageNm} AND gridCd = #{gridCd}
	  ORDER BY
      issueDate DESC limit 1
  </select>

  <!-- UserConfig.showUserConfigInfo -->
  <select
  	id="showUserConfigInfo"
  	parameterType="hashmap"
  	resultType="UserConfig"
  >
  	SELECT
      userID userConfigID,
      passwd userConfigPw,
      userNm userConfigNm,
      uLevel userConfigLevel,
      uPerm userConfigPerm,
      phone userConfigPhone,
      email userConfigEmail,
      compCd userConfigCompCd,
      flagYN flagYN
    FROM
      tblUser
    WHERE
      userID = #{userConfigID}
  </select>

  <update
    id="updateUserConfigPw"
    parameterType="hashmap"
  >
    /* UserConfig.updateUserConfigPw */
    UPDATE
      tblUser
    SET
      passwd = #{userConfigPw}
    WHERE
      userID = #{userConfigID}
  </update>

  <!-- UserConfig.saveUserConfigTab -->
  <select
  	id="saveUserConfigTab"
  	parameterType="hashmap"
  	resultType="Integer"
  >
  	CALL sp_UserConfig (
      #{configSeq},
      #{userID},
      #{pageNm},
      #{gridCd},
      #{config},
      #{flagYN},
      #{issueID}
    );
  </select>

  <!-- UserConfig.saveUserConfigInfo -->
  <select
  	id="saveUserConfigInfo"
  	parameterType="hashmap"
  	resultType="Integer"
  >
  	CALL sp_UserConfig (
      #{configSeq},
      #{userID},
      #{pageNm},
      #{gridCd},
      #{config},
      #{flagYN},
      #{issueID}
    );
  </select>

</mapper>